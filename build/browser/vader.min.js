(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.vader = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
!function(e){function o(e){throw RangeError(T[e])}function n(e,o){for(var n=e.length,r=[];n--;)r[n]=o(e[n]);return r}function r(e,o){var r=e.split("@"),t="";r.length>1&&(t=r[0]+"@",e=r[1]),e=e.replace(S,".");var u=e.split("."),i=n(u,o).join(".");return t+i}function t(e){for(var o,n,r=[],t=0,u=e.length;u>t;)o=e.charCodeAt(t++),o>=55296&&56319>=o&&u>t?(n=e.charCodeAt(t++),56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)):r.push(o);return r}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:b}function f(e,o){return e+22+75*(26>e)-((0!=o)<<5)}function c(e,o,n){var r=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;r+=b)e=M(e/L);return M(r+(L+1)*e/(e+m))}function l(e){var n,r,t,f,l,s,d,a,p,h,v=[],g=e.length,w=0,m=I,j=A;for(r=e.lastIndexOf(E),0>r&&(r=0),t=0;r>t;++t)e.charCodeAt(t)>=128&&o("not-basic"),v.push(e.charCodeAt(t));for(f=r>0?r+1:0;g>f;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),a=i(e.charCodeAt(f++)),(a>=b||a>M((x-w)/s))&&o("overflow"),w+=a*s,p=j>=d?y:d>=j+C?C:d-j,!(p>a);d+=b)h=b-p,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,r,u,i,l,s,d,a,p,h,v,g,w,m,j,F=[];for(e=t(e),g=e.length,n=I,r=0,l=A,s=0;g>s;++s)v=e[s],128>v&&F.push(P(v));for(u=i=F.length,i&&F.push(E);g>u;){for(d=x,s=0;g>s;++s)v=e[s],v>=n&&d>v&&(d=v);for(w=u+1,d-n>M((x-r)/w)&&o("overflow"),r+=(d-n)*w,n=d,s=0;g>s;++s)if(v=e[s],n>v&&++r>x&&o("overflow"),v==n){for(a=r,p=b;h=l>=p?y:p>=l+C?C:p-l,!(h>a);p+=b)j=a-h,m=b-h,F.push(P(f(h+j%m,0))),a=M(j/m);F.push(P(f(a,0))),l=c(r,w,u==i),r=0,++u}++r,++n}return F.join("")}function d(e){return r(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return O.test(e)?"xn--"+s(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;(v.global===v||v.window===v||v.self===v)&&(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.3.2",ucs2:{decode:t,encode:u},decode:l,encode:s,toASCII:a,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&h)if(module.exports==p)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else e.punycode=g}(this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],2:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;p>y;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};

},{}],3:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};

},{}],4:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");

},{"./decode":2,"./encode":3}],5:[function(require,module,exports){
function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,s,e){if(t&&isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}function isString(t){return"string"==typeof t}function isObject(t){return"object"==typeof t&&null!==t}function isNull(t){return null===t}function isNullOrUndefined(t){return null==t}var punycode=require("punycode");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(t,s,e){if(!isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t;h=h.trim();var r=protocolPattern.exec(h);if(r){r=r[0];var o=r.toLowerCase();this.protocol=o,h=h.substr(r.length)}if(e||r||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===h.substr(0,2);!a||r&&hostlessProtocol[r]||(h=h.substr(2),this.slashes=!0)}if(!hostlessProtocol[r]&&(a||r&&!slashedProtocol[r])){for(var n=-1,i=0;i<hostEndingChars.length;i++){var l=h.indexOf(hostEndingChars[i]);-1!==l&&(-1===n||n>l)&&(n=l)}var c,u;u=-1===n?h.lastIndexOf("@"):h.lastIndexOf("@",n),-1!==u&&(c=h.slice(0,u),h=h.slice(u+1),this.auth=decodeURIComponent(c)),n=-1;for(var i=0;i<nonHostChars.length;i++){var l=h.indexOf(nonHostChars[i]);-1!==l&&(-1===n||n>l)&&(n=l)}-1===n&&(n=h.length),this.host=h.slice(0,n),h=h.slice(n),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var f=this.hostname.split(/\./),i=0,m=f.length;m>i;i++){var v=f[i];if(v&&!v.match(hostnamePartPattern)){for(var g="",y=0,d=v.length;d>y;y++)g+=v.charCodeAt(y)>127?"x":v[y];if(!g.match(hostnamePartPattern)){var P=f.slice(0,i),b=f.slice(i+1),j=v.match(hostnamePartStart);j&&(P.push(j[1]),b.unshift(j[2])),b.length&&(h="/"+b.join(".")+h),this.hostname=P.join(".");break}}}if(this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var O=this.hostname.split("."),q=[],i=0;i<O.length;++i){var x=O[i];q.push(x.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(x):x)}this.hostname=q.join(".")}var U=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+U,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!unsafeProtocol[o])for(var i=0,m=autoEscape.length;m>i;i++){var A=autoEscape[i],E=encodeURIComponent(A);E===A&&(E=escape(A)),h=h.split(A).join(E)}var w=h.indexOf("#");-1!==w&&(this.hash=h.substr(w),h=h.slice(0,w));var R=h.indexOf("?");if(-1!==R?(this.search=h.substr(R),this.query=h.substr(R+1),s&&(this.query=querystring.parse(this.query)),h=h.slice(0,R)):s&&(this.search="",this.query={}),h&&(this.pathname=h),slashedProtocol[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",x=this.search||"";this.path=U+x}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&isObject(this.query)&&Object.keys(this.query).length&&(o=querystring.stringify(this.query));var a=this.search||o&&"?"+o||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&r!==!1?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),a&&"?"!==a.charAt(0)&&(a="?"+a),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),s+r+e+a+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}var e=new Url;if(Object.keys(this).forEach(function(t){e[t]=this[t]},this),e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(s){"protocol"!==s&&(e[s]=t[s])}),slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e;if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol])return Object.keys(t).forEach(function(s){e[s]=t[s]}),e.href=e.format(),e;if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),e.pathname=h.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var r=e.pathname||"",o=e.search||"";e.path=r+o}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var a=e.pathname&&"/"===e.pathname.charAt(0),n=t.host||t.pathname&&"/"===t.pathname.charAt(0),i=n||a||e.host&&t.pathname,l=i,c=e.pathname&&e.pathname.split("/")||[],h=t.pathname&&t.pathname.split("/")||[],u=e.protocol&&!slashedProtocol[e.protocol];if(u&&(e.hostname="",e.port=null,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),i=i&&(""===h[0]||""===c[0])),n)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,c=h;else if(h.length)c||(c=[]),c.pop(),c=c.concat(h),e.search=t.search,e.query=t.query;else if(!isNullOrUndefined(t.search)){if(u){e.hostname=e.host=c.shift();var p=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;p&&(e.auth=p.shift(),e.host=e.hostname=p.shift())}return e.search=t.search,e.query=t.query,isNull(e.pathname)&&isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!c.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var f=c.slice(-1)[0],m=(e.host||t.host)&&("."===f||".."===f)||""===f,v=0,g=c.length;g>=0;g--)f=c[g],"."==f?c.splice(g,1):".."===f?(c.splice(g,1),v++):v&&(c.splice(g,1),v--);if(!i&&!l)for(;v--;v)c.unshift("..");!i||""===c[0]||c[0]&&"/"===c[0].charAt(0)||c.unshift(""),m&&"/"!==c.join("/").substr(-1)&&c.push("");var y=""===c[0]||c[0]&&"/"===c[0].charAt(0);if(u){e.hostname=e.host=y?"":c.length?c.shift():"";var p=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;p&&(e.auth=p.shift(),e.host=e.hostname=p.shift())}return i=i||e.host&&c.length,i&&!y&&c.unshift(""),c.length?e.pathname=c.join("/"):(e.pathname=null,e.path=null),isNull(e.pathname)&&isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};

},{"punycode":1,"querystring":4}],6:[function(require,module,exports){
function restParam(r,t){if("function"!=typeof r)throw new TypeError(FUNC_ERROR_TEXT);return t=nativeMax(void 0===t?r.length-1:+t||0,0),function(){for(var a=arguments,e=-1,n=nativeMax(a.length-t,0),i=Array(n);++e<n;)i[e]=a[t+e];switch(t){case 0:return r.call(this,i);case 1:return r.call(this,a[0],i);case 2:return r.call(this,a[0],a[1],i)}var c=Array(t+1);for(e=-1;++e<t;)c[e]=a[e];return c[t]=i,r.apply(this,c)}}var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max;module.exports=restParam;

},{}],7:[function(require,module,exports){
function assignWith(e,r,i){for(var s=-1,n=keys(r),t=n.length;++s<t;){var o=n[s],a=e[o],u=i(a,r[o],o,e,r);(u===u?u===a:a!==a)&&(void 0!==a||o in e)||(e[o]=u)}return e}var keys=require("../object/keys");module.exports=assignWith;

},{"../object/keys":27}],8:[function(require,module,exports){
function baseAssign(e,s){return null==s?e:baseCopy(s,keys(s),e)}var baseCopy=require("./baseCopy"),keys=require("../object/keys");module.exports=baseAssign;

},{"../object/keys":27,"./baseCopy":9}],9:[function(require,module,exports){
function baseCopy(e,o,r){r||(r={});for(var a=-1,n=o.length;++a<n;){var t=o[a];r[t]=e[t]}return r}module.exports=baseCopy;

},{}],10:[function(require,module,exports){
function baseProperty(r){return function(e){return null==e?void 0:e[r]}}module.exports=baseProperty;

},{}],11:[function(require,module,exports){
function bindCallback(n,t,r){if("function"!=typeof n)return identity;if(void 0===t)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,c){return n.call(t,r,e,u,i,c)}}return function(){return n.apply(t,arguments)}}var identity=require("../utility/identity");module.exports=bindCallback;

},{"../utility/identity":29}],12:[function(require,module,exports){
function createAssigner(e){return restParam(function(r,a){var t=-1,i=null==r?0:a.length,n=i>2?a[i-2]:void 0,l=i>2?a[2]:void 0,o=i>1?a[i-1]:void 0;for("function"==typeof n?(n=bindCallback(n,o,5),i-=2):(n="function"==typeof o?o:void 0,i-=n?1:0),l&&isIterateeCall(a[0],a[1],l)&&(n=3>i?void 0:n,i=1);++t<i;){var u=a[t];u&&e(r,u,n)}return r})}var bindCallback=require("./bindCallback"),isIterateeCall=require("./isIterateeCall"),restParam=require("../function/restParam");module.exports=createAssigner;

},{"../function/restParam":6,"./bindCallback":11,"./isIterateeCall":17}],13:[function(require,module,exports){
var baseProperty=require("./baseProperty"),getLength=baseProperty("length");module.exports=getLength;

},{"./baseProperty":10}],14:[function(require,module,exports){
function getNative(e,i){var t=null==e?void 0:e[i];return isNative(t)?t:void 0}var isNative=require("../lang/isNative");module.exports=getNative;

},{"../lang/isNative":24}],15:[function(require,module,exports){
function isArrayLike(e){return null!=e&&isLength(getLength(e))}var getLength=require("./getLength"),isLength=require("./isLength");module.exports=isArrayLike;

},{"./getLength":13,"./isLength":18}],16:[function(require,module,exports){
function isIndex(e,n){return e="number"==typeof e||reIsUint.test(e)?+e:-1,n=null==n?MAX_SAFE_INTEGER:n,e>-1&&e%1==0&&n>e}var reIsUint=/^\d+$/,MAX_SAFE_INTEGER=9007199254740991;module.exports=isIndex;

},{}],17:[function(require,module,exports){
function isIterateeCall(e,r,i){if(!isObject(i))return!1;var t=typeof r;if("number"==t?isArrayLike(i)&&isIndex(r,i.length):"string"==t&&r in i){var n=i[r];return e===e?e===n:n!==n}return!1}var isArrayLike=require("./isArrayLike"),isIndex=require("./isIndex"),isObject=require("../lang/isObject");module.exports=isIterateeCall;

},{"../lang/isObject":25,"./isArrayLike":15,"./isIndex":16}],18:[function(require,module,exports){
function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&MAX_SAFE_INTEGER>=e}var MAX_SAFE_INTEGER=9007199254740991;module.exports=isLength;

},{}],19:[function(require,module,exports){
function isObjectLike(e){return!!e&&"object"==typeof e}module.exports=isObjectLike;

},{}],20:[function(require,module,exports){
function shimKeys(e){for(var r=keysIn(e),s=r.length,n=s&&e.length,t=!!n&&isLength(n)&&(isArray(e)||isArguments(e)),i=-1,o=[];++i<s;){var a=r[i];(t&&isIndex(a,n)||hasOwnProperty.call(e,a))&&o.push(a)}return o}var isArguments=require("../lang/isArguments"),isArray=require("../lang/isArray"),isIndex=require("./isIndex"),isLength=require("./isLength"),keysIn=require("../object/keysIn"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=shimKeys;

},{"../lang/isArguments":21,"../lang/isArray":22,"../object/keysIn":28,"./isIndex":16,"./isLength":18}],21:[function(require,module,exports){
function isArguments(e){return isObjectLike(e)&&isArrayLike(e)&&hasOwnProperty.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")}var isArrayLike=require("../internal/isArrayLike"),isObjectLike=require("../internal/isObjectLike"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable;module.exports=isArguments;

},{"../internal/isArrayLike":15,"../internal/isObjectLike":19}],22:[function(require,module,exports){
var getNative=require("../internal/getNative"),isLength=require("../internal/isLength"),isObjectLike=require("../internal/isObjectLike"),arrayTag="[object Array]",objectProto=Object.prototype,objToString=objectProto.toString,nativeIsArray=getNative(Array,"isArray"),isArray=nativeIsArray||function(r){return isObjectLike(r)&&isLength(r.length)&&objToString.call(r)==arrayTag};module.exports=isArray;

},{"../internal/getNative":14,"../internal/isLength":18,"../internal/isObjectLike":19}],23:[function(require,module,exports){
function isFunction(t){return isObject(t)&&objToString.call(t)==funcTag}var isObject=require("./isObject"),funcTag="[object Function]",objectProto=Object.prototype,objToString=objectProto.toString;module.exports=isFunction;

},{"./isObject":25}],24:[function(require,module,exports){
function isNative(t){return null==t?!1:isFunction(t)?reIsNative.test(fnToString.call(t)):isObjectLike(t)&&reIsHostCtor.test(t)}var isFunction=require("./isFunction"),isObjectLike=require("../internal/isObjectLike"),reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=isNative;

},{"../internal/isObjectLike":19,"./isFunction":23}],25:[function(require,module,exports){
function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}module.exports=isObject;

},{}],26:[function(require,module,exports){
var assignWith=require("../internal/assignWith"),baseAssign=require("../internal/baseAssign"),createAssigner=require("../internal/createAssigner"),assign=createAssigner(function(s,e,i){return i?assignWith(s,e,i):baseAssign(s,e)});module.exports=assign;

},{"../internal/assignWith":7,"../internal/baseAssign":8,"../internal/createAssigner":12}],27:[function(require,module,exports){
var getNative=require("../internal/getNative"),isArrayLike=require("../internal/isArrayLike"),isObject=require("../lang/isObject"),shimKeys=require("../internal/shimKeys"),nativeKeys=getNative(Object,"keys"),keys=nativeKeys?function(e){var i=null==e?void 0:e.constructor;return"function"==typeof i&&i.prototype===e||"function"!=typeof e&&isArrayLike(e)?shimKeys(e):isObject(e)?nativeKeys(e):[]}:shimKeys;module.exports=keys;

},{"../internal/getNative":14,"../internal/isArrayLike":15,"../internal/shimKeys":20,"../lang/isObject":25}],28:[function(require,module,exports){
function keysIn(r){if(null==r)return[];isObject(r)||(r=Object(r));var e=r.length;e=e&&isLength(e)&&(isArray(r)||isArguments(r))&&e||0;for(var t=r.constructor,n=-1,s="function"==typeof t&&t.prototype===r,i=Array(e),o=e>0;++n<e;)i[n]=n+"";for(var a in r)o&&isIndex(a,e)||"constructor"==a&&(s||!hasOwnProperty.call(r,a))||i.push(a);return i}var isArguments=require("../lang/isArguments"),isArray=require("../lang/isArray"),isIndex=require("../internal/isIndex"),isLength=require("../internal/isLength"),isObject=require("../lang/isObject"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=keysIn;

},{"../internal/isIndex":16,"../internal/isLength":18,"../lang/isArguments":21,"../lang/isArray":22,"../lang/isObject":25}],29:[function(require,module,exports){
function identity(t){return t}module.exports=identity;

},{}],30:[function(require,module,exports){
"use strict";var url=require("url"),punycode=require("punycode"),queryString=require("query-string"),prependHttp=require("prepend-http"),sortKeys=require("sort-keys"),objectAssign=require("object-assign"),DEFAULT_PORTS={"http:":80,"https:":443,"ftp:":21};module.exports=function(e,r){if(r=objectAssign({normalizeProtocol:!0,stripFragment:!0,stripWWW:!0},r),"string"!=typeof e)throw new TypeError("Expected a string");var t=0===e.indexOf("//");e=prependHttp(e.trim()).replace(/^\/\//,"http://");var o=url.parse(e);delete o.host,delete o.query,r.stripFragment&&delete o.hash;var p=DEFAULT_PORTS[o.protocol];Number(o.port)===p&&delete o.port,o.pathname=o.pathname.replace(/\/{2,}/,"/");var a=o.protocol+"//"+o.hostname,s=url.resolve(a,o.pathname);return o.pathname=s.replace(a,""),o.hostname=punycode.toUnicode(o.hostname).toLowerCase(),r.stripWWW&&(o.hostname=o.hostname.replace(/^www\./,"")),"?"===o.search&&delete o.search,o.search=queryString.stringify(sortKeys(queryString.parse(o.search))),o.search=decodeURIComponent(o.search),e=url.format(o),e=e.replace(/\/$/,""),t&&!r.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),e};

},{"object-assign":31,"prepend-http":32,"punycode":1,"query-string":33,"sort-keys":35,"url":5}],31:[function(require,module,exports){
"use strict";function ToObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function ownEnumerableKeys(e){var r=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e))),r.filter(function(r){return propIsEnumerable.call(e,r)})}var propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=Object.assign||function(e,r){for(var t,n,o=ToObject(e),c=1;c<arguments.length;c++){t=arguments[c],n=ownEnumerableKeys(Object(t));for(var u=0;u<n.length;u++)o[n[u]]=t[n[u]]}return o};

},{}],32:[function(require,module,exports){
"use strict";module.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t=t.trim(),/^\.*\//.test(t)?t:t.replace(/^(?!(?:\w+:)?\/\/)/,"http://")};

},{}],33:[function(require,module,exports){
"use strict";var strictUriEncode=require("strict-uri-encode");exports.extract=function(r){return r.split("?")[1]||""},exports.parse=function(r){return"string"!=typeof r?{}:(r=r.trim().replace(/^(\?|#|&)/,""),r?r.split("&").reduce(function(r,t){var e=t.replace(/\+/g," ").split("="),n=e[0],i=e[1];return n=decodeURIComponent(n),i=void 0===i?null:decodeURIComponent(i),r.hasOwnProperty(n)?Array.isArray(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i,r},{}):{})},exports.stringify=function(r){return r?Object.keys(r).sort().map(function(t){var e=r[t];return Array.isArray(e)?e.sort().map(function(r){return strictUriEncode(t)+"="+strictUriEncode(r)}).join("&"):strictUriEncode(t)+"="+strictUriEncode(e)}).filter(function(r){return r.length>0}).join("&"):""};

},{"strict-uri-encode":34}],34:[function(require,module,exports){
"use strict";module.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})};

},{}],35:[function(require,module,exports){
"use strict";var isPlainObj=require("is-plain-obj");module.exports=function(e,r){if(!isPlainObj(e))throw new TypeError("Expected a plain object");r=r||{},"function"==typeof r&&(r={compare:r});var i=r.deep,n=function(e){for(var t={},o=Object.keys(e).sort(r.compare),a=0;a<o.length;a++){var c=o[a],p=e[c];t[c]=i&&p!==e&&isPlainObj(p)?n(p):p}return t};return n(e)};

},{"is-plain-obj":36}],36:[function(require,module,exports){
"use strict";var toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty;module.exports=function(t){var o;return"[object Object]"===toString.call(t)&&(o=t.constructor,hasOwn.call(t,"constructor")||"function"!=typeof o||o instanceof o)};

},{}],37:[function(require,module,exports){
(function (global){
function getLocalPromise(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(r){return null}var t=e.Promise;return isPromise(t)?t:null}function isPromise(e){return e&&"function"==typeof e.all}var superagent=module.exports=require("superagent");superagent.Promise=getLocalPromise();var Request=superagent.Request,SuperagentPromiseError=superagent.SuperagentPromiseError=function(e){this.name="SuperagentPromiseError",this.message=e||"Bad request"};SuperagentPromiseError.prototype=new Error,SuperagentPromiseError.prototype.constructor=SuperagentPromiseError,Request.prototype.promise=function(){if(!isPromise(superagent.Promise))throw new Error("Promise no exist");var e,r=this;return new superagent.Promise(function(t,o){r.end(function(r,n){r?(e=new SuperagentPromiseError(r),n&&(e.status=n.status,e.body=n.body,e.res=n),o(e)):t(n)})})},Request.prototype.then=function(){var e=this.promise();return e.then.apply(e,arguments)};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"superagent":38}],38:[function(require,module,exports){
function noop(){}function isHost(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function isObject(t){return t===Object(t)}function serialize(t){if(!isObject(t))return t;var e=[];for(var r in t)null!=t[r]&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}function parseString(t){for(var e,r,s={},i=t.split("&"),o=0,n=i.length;n>o;++o)r=i[o],e=r.split("="),s[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return s}function parseHeader(t){var e,r,s,i,o=t.split(/\r?\n/),n={};o.pop();for(var u=0,a=o.length;a>u;++u)r=o[u],e=r.indexOf(":"),s=r.slice(0,e).toLowerCase(),i=trim(r.slice(e+1)),n[s]=i;return n}function type(t){return t.split(/ *; */).shift()}function params(t){return reduce(t.split(/ *; */),function(t,e){var r=e.split(/ *= */),s=r.shift(),i=r.shift();return s&&i&&(t[s]=i),t},{})}function Response(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function Request(t,e){var r=this;Emitter.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new Response(r)}catch(s){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=s,r.callback(t)}if(r.emit("response",e),t)return r.callback(t,e);if(e.status>=200&&e.status<300)return r.callback(t,e);var i=new Error(e.statusText||"Unsuccessful HTTP response");i.original=t,i.response=e,i.status=e.status,r.callback(i,e)})}function request(t,e){return"function"==typeof e?new Request("GET",t).end(e):1==arguments.length?new Request("GET",t):new Request(t,e)}var Emitter=require("emitter"),reduce=require("reduce"),root="undefined"==typeof window?this||self:window;request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var trim="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},Response.prototype.get=function(t){return this.header[t.toLowerCase()]},Response.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=type(e);var r=params(e);for(var s in r)this[s]=r[s]},Response.prototype.parseBody=function(t){var e=request.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},Response.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},Response.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,s="cannot "+e+" "+r+" ("+this.status+")",i=new Error(s);return i.status=this.status,i.method=e,i.url=r,i},request.Response=Response,Emitter(Request.prototype),Request.prototype.use=function(t){return t(this),this},Request.prototype.timeout=function(t){return this._timeout=t,this},Request.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},Request.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},Request.prototype.set=function(t,e){if(isObject(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},Request.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},Request.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},Request.prototype.type=function(t){return this.set("Content-Type",request.types[t]||t),this},Request.prototype.accept=function(t){return this.set("Accept",request.types[t]||t),this},Request.prototype.auth=function(t,e){var r=btoa(t+":"+e);return this.set("Authorization","Basic "+r),this},Request.prototype.query=function(t){return"string"!=typeof t&&(t=serialize(t)),t&&this._query.push(t),this},Request.prototype.field=function(t,e){return this._formData||(this._formData=new root.FormData),this._formData.append(t,e),this},Request.prototype.attach=function(t,e,r){return this._formData||(this._formData=new root.FormData),this._formData.append(t,e,r),this},Request.prototype.send=function(t){var e=isObject(t),r=this.getHeader("Content-Type");if(e&&isObject(this._data))for(var s in t)this._data[s]=t[s];else"string"==typeof t?(r||this.type("form"),r=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==r?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||isHost(t)?this:(r||this.type("json"),this)},Request.prototype.callback=function(t,e){var r=this._callback;this.clearTimeout(),r(t,e)},Request.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},Request.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},Request.prototype.withCredentials=function(){return this._withCredentials=!0,this},Request.prototype.end=function(t){var e=this,r=this.xhr=request.getXHR(),s=this._query.join("&"),i=this._timeout,o=this._formData||this._data;this._callback=t||noop,r.onreadystatechange=function(){if(4==r.readyState){var t;try{t=r.status}catch(s){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var n=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(r.onprogress=n);try{r.upload&&this.hasListeners("progress")&&(r.upload.onprogress=n)}catch(u){}if(i&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},i)),s&&(s=request.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof o&&!isHost(o)){var a=this.getHeader("Content-Type"),h=request.serialize[a?a.split(";")[0]:""];h&&(o=h(o))}for(var p in this.header)null!=this.header[p]&&r.setRequestHeader(p,this.header[p]);return this.emit("request",this),r.send(o),this},Request.prototype.then=function(t,e){return this.end(function(r,s){r?e(r):t(s)})},request.Request=Request,request.get=function(t,e,r){var s=request("GET",t);return"function"==typeof e&&(r=e,e=null),e&&s.query(e),r&&s.end(r),s},request.head=function(t,e,r){var s=request("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.del=function(t,e){var r=request("DELETE",t);return e&&r.end(e),r},request.patch=function(t,e,r){var s=request("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.post=function(t,e,r){var s=request("POST",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},request.put=function(t,e,r){var s=request("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&s.send(e),r&&s.end(r),s},module.exports=request;

},{"emitter":39,"reduce":40}],39:[function(require,module,exports){
function Emitter(t){return t?mixin(t):void 0}function mixin(t){for(var e in Emitter.prototype)t[e]=Emitter.prototype[e];return t}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},Emitter.prototype.once=function(t,e){function i(){r.off(t,i),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,s=0;s<i.length;s++)if(r=i[s],r===e||r.fn===e){i.splice(s,1);break}return this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var r=0,s=i.length;s>r;++r)i[r].apply(this,e)}return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length};

},{}],40:[function(require,module,exports){
module.exports=function(l,n,e){for(var r=0,t=l.length,u=3==arguments.length?e:l[r++];t>r;)u=n.call(null,u,l[r],++r,l);return u};

},{}],41:[function(require,module,exports){
module.exports=function(){function n(n){return'"'+n.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var l={parse:function(l,u){function r(n){E>g||(g>E&&(E=g,C=[]),C.push(n))}function t(){var n,l,u;for(u=g,n=[],l=p(),null===l&&(l=e());null!==l;)n.push(l),l=p(),null===l&&(l=e());return null!==n&&(n=function(n,l){return new w(l)}(u,n)),null===n&&(g=u),n}function e(){var n,u,t,e,o,i;return o=g,i=g,123===l.charCodeAt(g)?(n="{",g++):(n=null,0===m&&r('"{"')),null!==n?(u=a(),null!==u?(t=c(),null!==t?(125===l.charCodeAt(g)?(e="}",g++):(e=null,0===m&&r('"}"')),null!==e?n=[n,u,t,e]:(n=null,g=i)):(n=null,g=i)):(n=null,g=i)):(n=null,g=i),null!==n&&(n=function(n,l,u){return y(l,u)}(o,n[1],n[2])),null===n&&(g=o),n}function a(){var n;return/^[\/;:.?&+#]/.test(l.charAt(g))?(n=l.charAt(g),g++):(n=null,0===m&&r("[\\/;:.?&+#]")),null===n&&(n=""),n}function o(){var n;return"{/"===l.substr(g,2)?(n="{/",g+=2):(n=null,0===m&&r('"{/"')),n}function c(){var n,u,t,e,a,o,c,s;if(a=g,o=g,n=i(),null!==n){for(u=[],c=g,s=g,44===l.charCodeAt(g)?(t=",",g++):(t=null,0===m&&r('","')),null!==t?(e=i(),null!==e?t=[t,e]:(t=null,g=s)):(t=null,g=s),null!==t&&(t=function(n,l){return l}(c,t[1])),null===t&&(g=c);null!==t;)u.push(t),c=g,s=g,44===l.charCodeAt(g)?(t=",",g++):(t=null,0===m&&r('","')),null!==t?(e=i(),null!==e?t=[t,e]:(t=null,g=s)):(t=null,g=s),null!==t&&(t=function(n,l){return l}(c,t[1])),null===t&&(g=c);null!==u?n=[n,u]:(n=null,g=o)}else n=null,g=o;return null!==n&&(n=function(n,l,u){return u.unshift(l),u}(a,n[0],n[1])),null===n&&(g=a),n}function i(){var n,u,t,e,a;for(e=g,a=g,n=[],/^[a-zA-Z0-9_.%]/.test(l.charAt(g))?(u=l.charAt(g),g++):(u=null,0===m&&r("[a-zA-Z0-9_.%]"));null!==u;)n.push(u),/^[a-zA-Z0-9_.%]/.test(l.charAt(g))?(u=l.charAt(g),g++):(u=null,0===m&&r("[a-zA-Z0-9_.%]"));return null!==n?(u=s(),null===u&&(u=f()),u=null!==u?u:"",null!==u?(t=A(),t=null!==t?t:"",null!==t?n=[n,u,t]:(n=null,g=a)):(n=null,g=a)):(n=null,g=a),null!==n&&(n=function(n,l,u,r){return u=u||{},{name:l.join(""),explode:u.listMarker,cut:u.cut,extended:r}}(e,n[0],n[1],n[2])),null===n&&(g=e),n}function s(){var n,l;return l=g,n=h(),null!==n&&(n=function(n,l){return{cut:l}}(l,n)),null===n&&(g=l),n}function f(){var n,u;return u=g,42===l.charCodeAt(g)?(n="*",g++):(n=null,0===m&&r('"*"')),null!==n&&(n=function(n,l){return{listMarker:l}}(u,n)),null===n&&(g=u),n}function h(){var n,u,t,e,a;if(e=g,a=g,58===l.charCodeAt(g)?(n=":",g++):(n=null,0===m&&r('":"')),null!==n){if(/^[0-9]/.test(l.charAt(g))?(t=l.charAt(g),g++):(t=null,0===m&&r("[0-9]")),null!==t)for(u=[];null!==t;)u.push(t),/^[0-9]/.test(l.charAt(g))?(t=l.charAt(g),g++):(t=null,0===m&&r("[0-9]"));else u=null;null!==u?n=[n,u]:(n=null,g=a)}else n=null,g=a;return null!==n&&(n=function(n,l){return parseInt(l.join(""))}(e,n[1])),null===n&&(g=e),n}function p(){var n,u,t;if(t=g,/^[^{]/.test(l.charAt(g))?(u=l.charAt(g),g++):(u=null,0===m&&r("[^{]")),null!==u)for(n=[];null!==u;)n.push(u),/^[^{]/.test(l.charAt(g))?(u=l.charAt(g),g++):(u=null,0===m&&r("[^{]"));else n=null;return null!==n&&(n=function(n,l){return l.join("")}(t,n)),null===n&&(g=t),n}function A(){var n,u,t,e,a;if(e=g,a=g,40===l.charCodeAt(g)?(n="(",g++):(n=null,0===m&&r('"("')),null!==n){if(/^[^)]/.test(l.charAt(g))?(t=l.charAt(g),g++):(t=null,0===m&&r("[^)]")),null!==t)for(u=[];null!==t;)u.push(t),/^[^)]/.test(l.charAt(g))?(t=l.charAt(g),g++):(t=null,0===m&&r("[^)]"));else u=null;null!==u?(41===l.charCodeAt(g)?(t=")",g++):(t=null,0===m&&r('")"')),null!==t?n=[n,u,t]:(n=null,g=a)):(n=null,g=a)}else n=null,g=a;return null!==n&&(n=function(n,l){return l.join("")}(e,n[1])),null===n&&(g=e),n}function x(n){n.sort();for(var l=null,u=[],r=0;r<n.length;r++)n[r]!==l&&(u.push(n[r]),l=n[r]);return u}function d(){for(var n=1,u=1,r=!1,t=0;t<Math.max(g,E);t++){var e=l.charAt(t);"\n"===e?(r||n++,u=1,r=!1):"\r"===e||"\u2028"===e||"\u2029"===e?(n++,u=1,r=!0):(u++,r=!1)}return{line:n,column:u}}var v={uriTemplate:t,expression:e,op:a,pathExpression:o,paramList:c,param:i,cut:s,listMarker:f,substr:h,nonexpression:p,extension:A};if(void 0!==u){if(void 0===v[u])throw new Error("Invalid rule name: "+n(u)+".")}else u="uriTemplate";var g=0,m=0,E=0,C=[],b=require("./lib/classes"),w=b.Template,y=b.expression,j=v[u]();if(null===j||g!==l.length){var k=Math.max(g,E),F=k<l.length?l.charAt(k):null,M=d();throw new this.SyntaxError(x(C),F,k,M.line,M.column)}return j},toSource:function(){return this._source}};return l.SyntaxError=function(l,u,r,t,e){function a(l,u){var r,t;switch(l.length){case 0:r="end of input";break;case 1:r=l[0];break;default:r=l.slice(0,l.length-1).join(", ")+" or "+l[l.length-1]}return t=u?n(u):"end of input","Expected "+r+" but "+t+" found."}this.name="SyntaxError",this.expected=l,this.found=u,this.message=a(l,u),this.offset=r,this.line=t,this.column=e},l.SyntaxError.prototype=Error.prototype,l}();

},{"./lib/classes":42}],42:[function(require,module,exports){
(function(){var t,r,e,n,i,o,s,p,u,a,c,f,h,y,l,m,g,_,x,d=function(t,r){return function(){return t.apply(r,arguments)}},S={}.hasOwnProperty,j=function(t,r){function e(){this.constructor=t}for(var n in r)S.call(r,n)&&(t[n]=r[n]);return e.prototype=r.prototype,t.prototype=new e,t.__super__=r.prototype,t};c=require("./encoders"),a=a=function(){function t(t){var r,e=this;this.expressions=[],this.prefix="string"==typeof t[0]?t.shift():"",r=0,t.forEach(function(t){switch(typeof t){case"object":return e.expressions[r++]=t;case"string":return e.expressions[r-1].suffix=t}})}return t.prototype.expand=function(t){return this.prefix+this.expressions.map(function(r){return r.expand(t)}).join("")},t.prototype.toString=function(){return this.prefix+this.expressions.join("")},t.prototype.toJSON=function(){return this.toString()},t}(),u=function(){function t(t){this.params=t,this.explodeObject=d(this.explodeObject,this),this.explodeArray=d(this.explodeArray,this),this._expandPair=d(this._expandPair,this),this.stringifySingle=d(this.stringifySingle,this),this.encode=d(this.encode,this),null==this.params&&(this.params=[]),this.suffix=""}var r;return t.prototype.first="",t.prototype.sep=",",t.prototype.named=!1,t.prototype.empty="",t.prototype.allow="U",t.prototype.encode=function(t){return c[this.allow](t)},t.prototype.stringifySingle=function(t,r){var e,n,i;if(n=typeof r,"string"===n||"boolean"===n||"number"===n)return r=r.toString(),this.encode(r.substring(0,t.cut||r.length));if(Array.isArray(r)){if(t.cut)throw new Error("Prefixed Values do not support lists. Check "+t.name);return r.map(this.encode).join(",")}if(t.cut)throw new Error("Prefixed Values do not support maps. Check "+t.name);return function(){var t;t=[];for(e in r)i=r[e],t.push([e,i].map(this.encode).join(","));return t}.call(this).join(",")},t.prototype.expand=function(t){var e,n,i=this;return e=r(this.params,t),n=e.map(function(t){return i._expandPair.apply(i,t)}).join(this.sep),n?this.first+n+this.suffix:this.empty&&e.length?this.empty+this.suffix:this.suffix},r=function(t,r){return t.map(function(t){return[t,r[t.name]]}).filter(function(t){var r,e,n;switch(e=t[1],typeof e){case"undefined":return!1;case"object":Array.isArray(e)&&e.length>0;for(r in e)if(n=e[r])return!0;return!1;default:return!0}})},t.prototype._expandPair=function(t,r){var e;return e=t.name,t.explode?Array.isArray(r)?this.explodeArray(t,r):"string"==typeof r?this.stringifySingle(t,r):this.explodeObject(r):this.stringifySingle(t,r)},t.prototype.explodeArray=function(t,r){return r.map(this.encode).join(this.sep)},t.prototype.explodeObject=function(t){var r,e,n,i,o,s;e=[];for(r in t)if(n=t[r],r=this.encode(r),Array.isArray(n))for(o=0,s=n.length;s>o;o++)i=n[o],e.push([r,this.encode(i)]);else e.push([r,this.encode(n)]);return e.map(function(t){return t.join("=")}).join(this.sep)},t.prototype.toString=function(){var t;return t=this.params.map(function(t){return t.name+t.explode}).join(","),"{"+this.first+t+"}"+this.suffix},t.prototype.toJSON=function(){return this.toString()},t}(),i=function(t){function r(){return this.explodeArray=d(this.explodeArray,this),this.stringifySingle=d(this.stringifySingle,this),f=r.__super__.constructor.apply(this,arguments)}return j(r,t),r.prototype.stringifySingle=function(t,e){return e=(e=r.__super__.stringifySingle.apply(this,arguments))?"="+e:this.empty,""+t.name+e},r.prototype.explodeArray=function(t,r){var e=this;return r.map(function(r){return""+t.name+"="+e.encode(r)}).join(this.sep)},r}(u),p=function(t){function r(){return h=r.__super__.constructor.apply(this,arguments)}return j(r,t),r.prototype.encode=function(t){return c["U+R"](t)},r.prototype.toString=function(){return"{+"+r.__super__.toString.apply(this,arguments).substring(1)},r}(u),e=function(t){function r(){return y=r.__super__.constructor.apply(this,arguments)}return j(r,t),r.prototype.first="#",r.prototype.empty="#",r.prototype.encode=function(t){return c["U+R"](t)},r}(u),n=function(t){function r(){return l=r.__super__.constructor.apply(this,arguments)}return j(r,t),r.prototype.first=".",r.prototype.sep=".",r.prototype.empty=".",r}(u),s=function(t){function r(){return m=r.__super__.constructor.apply(this,arguments)}return j(r,t),r.prototype.first="/",r.prototype.sep="/",r}(u),o=function(t){function r(){return g=r.__super__.constructor.apply(this,arguments)}return j(r,t),r.prototype.first=";",r.prototype.sep=";",r}(i),r=function(t){function r(){return _=r.__super__.constructor.apply(this,arguments)}return j(r,t),r.prototype.first="?",r.prototype.sep="&",r.prototype.empty="=",r}(i),t=function(t){function r(){return x=r.__super__.constructor.apply(this,arguments)}return j(r,t),r.prototype.first="&",r}(r),module.exports={Template:a,SimpleExpression:u,NamedExpression:i,ReservedExpression:p,FragmentExpression:e,LabelExpression:n,PathSegmentExpression:s,PathParamExpression:o,FormStartExpression:r,FormContinuationExpression:t,expression:function(i,a){var c;return new(c=function(){switch(i){case"":return u;case"+":return p;case"#":return e;case".":return n;case"/":return s;case";":return o;case"?":return r;case"&":return t}}())(a)}}}).call(this);

},{"./encoders":43}],43:[function(require,module,exports){
(function(){var e;e=require("pct-encode"),exports.U=e(/[^\w~.-]/g),exports["U+R"]=e(/[^\w.~:\/\?#\[\]@!\$&'()*+,;=-]/g)}).call(this);

},{"pct-encode":44}],44:[function(require,module,exports){
module.exports=function(n){return n=n||/\W/g,function(r){return r=String(r),r.replace(n,function(n){var r=n[0].charCodeAt(0),u=[];return 128>r?u.push(r):r>=128&&2048>r?(u.push(r>>6|192),u.push(63&r|128)):(u.push(r>>12|224),u.push(r>>6&63|128),u.push(63&r|128)),u.map(function(n){return"%"+n.toString(16).toUpperCase()}).join("")})}};

},{}],45:[function(require,module,exports){
"use strict";function _interopExportWildcard(e,r){var t=r({},e);return delete t["default"],t}function _defaults(e,r){for(var t=Object.getOwnPropertyNames(r),o=0;o<t.length;o++){var n=t[o],p=Object.getOwnPropertyDescriptor(r,n);p&&p.configurable&&void 0===e[n]&&Object.defineProperty(e,n,p)}return e}Object.defineProperty(exports,"__esModule",{value:!0});var _requestInterceptor=require("./requestInterceptor");_defaults(exports,_interopExportWildcard(_requestInterceptor,_defaults));var _responseInterceptor=require("./responseInterceptor");_defaults(exports,_interopExportWildcard(_responseInterceptor,_defaults));

},{"./requestInterceptor":46,"./responseInterceptor":47}],46:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),RequestInterceptor=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"request",value:function(e){}},{key:"requestError",value:function(e){}}]),e}();exports.RequestInterceptor=RequestInterceptor;

},{}],47:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),ResponseInterceptor=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"response",value:function(e){}},{key:"responseError",value:function(e){}}]),e}();exports.ResponseInterceptor=ResponseInterceptor;

},{}],48:[function(require,module,exports){
"use strict";function _interopExportWildcard(e,r){var t=r({},e);return delete t["default"],t}function _defaults(e,r){for(var t=Object.getOwnPropertyNames(r),o=0;o<t.length;o++){var n=t[o],i=Object.getOwnPropertyDescriptor(r,n);i&&i.configurable&&void 0===e[n]&&Object.defineProperty(e,n,i)}return e}Object.defineProperty(exports,"__esModule",{value:!0});var _restClientConfig=require("./restClient/config");exports.config=_restClientConfig.config;var _restClient=require("./restClient/");_defaults(exports,_interopExportWildcard(_restClient,_defaults));var _coreBaseInterceptors=require("./core/baseInterceptors");_defaults(exports,_interopExportWildcard(_coreBaseInterceptors,_defaults));

},{"./core/baseInterceptors":45,"./restClient/":51,"./restClient/config":49}],49:[function(require,module,exports){
(function (global){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function getLocalPromise(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(r){return null}var i=e.Promise;return _utils.isPromise(i)?i:null}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var i=0;i<r.length;i++){var t=r[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,i,t){return i&&e(r.prototype,i),t&&e(r,t),r}}(),_utils=require("./utils"),Config=function(){function e(){_classCallCheck(this,e),this._promise=getLocalPromise()}return _createClass(e,[{key:"Promise",set:function(e){if(!_utils.isPromise(e))throw new Error("Promise must be a promise");this._promise=e},get:function(){if(!_utils.isPromise(this._promise))throw new Error("No promise exist");return this._promise}}]),e}(),config=new Config;exports.config=config;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./utils":56}],50:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_superagentInterfacePromise=require("superagent-interface-promise"),_superagentInterfacePromise2=_interopRequireDefault(_superagentInterfacePromise),_utils=require("./utils"),_config=require("./config"),Http=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"request",value:function(e){_superagentInterfacePromise2["default"].Promise=_config.config.Promise;var r=_superagentInterfacePromise2["default"](e.method,e.url);return Object.keys(e.headers).forEach(function(t){return r.set(t,e.headers[t])}),_utils.isNotEmpty(e.query)&&e.query.forEach(r.query.bind(r)),_utils.isNotEmpty(e.data)&&e.data.forEach(r.send.bind(r)),r}}]),e}();exports.Http=Http;

},{"./config":49,"./utils":56,"superagent-interface-promise":37}],51:[function(require,module,exports){
"use strict";function _interopExportWildcard(e,r){var t=r({},e);return delete t["default"],t}function _defaults(e,r){for(var t=Object.getOwnPropertyNames(r),s=0;s<t.length;s++){var o=t[s],i=Object.getOwnPropertyDescriptor(r,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}Object.defineProperty(exports,"__esModule",{value:!0});var _restClient=require("./restClient");_defaults(exports,_interopExportWildcard(_restClient,_defaults));var _request=require("./request");_defaults(exports,_interopExportWildcard(_request,_defaults));var _response=require("./response");_defaults(exports,_interopExportWildcard(_response,_defaults));var _restResource=require("./restResource");_defaults(exports,_interopExportWildcard(_restResource,_defaults));var _config=require("./config");_defaults(exports,_interopExportWildcard(_config,_defaults));

},{"./config":49,"./request":52,"./response":53,"./restClient":54,"./restResource":55}],52:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_utils=require("./utils"),_response=require("./response"),_coreBaseInterceptors=require("../core/baseInterceptors/"),_config=require("./config"),Request=function(){function e(t,r,n){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];_classCallCheck(this,e),this._baseUrl=t,this._interceptors=s.interceptors||[],this._http=s.http,this.resourceName=r,this._allConfig=s,this._config=s[r]||{},this._restKeys=["findAll","search","findOne","save","toJSON"],this._url=null,this.method="get",this.responseType=Object,this.restResource=n,this.headers=s.defaultHeaders,this.query=[],this.data=[]}return _createClass(e,[{key:"addInterceptor",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];return t?this._interceptors.push(e):this._interceptors.unshift(e),this}},{key:"query",value:function(e){return this.query.push(e),this}},{key:"set",value:function(e,t){return this.headers[e]=t,this}},{key:"send",value:function(e){return this.data.push(e),this}},{key:"_proxifyOne",value:function(e){var t=this,r=function(e){if(!e)return e;var r={};return Object.keys(e).forEach(function(n){~t._restKeys.indexOf(n)||(r[n]=e[n])}),r},n=r(e);return Object.defineProperty(n,"**oldState**",{value:r(e)}),["findAll","search","findOne"].forEach(function(e){n[e]=function(r){for(var s=arguments.length,i=Array(s>1?s-1:0),u=1;s>u;u++)i[u-1]=arguments[u];var o=t._baseUrl+t.resourceName+"/"+n.id+"/",a=t.restResource._createSubInstance(o,r,t._allConfig);return a[e].apply(a,i).sendRequest()}}),n.save=function(){return t.restResource.save(n.toJSON())},n.toJSON=function(){return r(this)},n}},{key:"proxify",value:function(e){var t=this,r=e.value;e.request;if(!Array.isArray(r))return this._proxifyOne(r);var n=function(){var e=[];return r.forEach(function(r){return e.push(t._proxifyOne(r))}),{v:e}}();return"object"==typeof n?n.v:void 0}},{key:"sendRequest",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],r=function(t){return e._http.request(t).then(function(e){var r=e.body;if(!r&&e.text)try{r=JSON.parse(e.text)}catch(n){r=null}return new _response.Response(r,e,t)},function(e){return e.status&&404==e.status?new _response.Response(null,e.res,t):_config.config.Promise.reject(e)})},n=[r,void 0];_utils.isNotEmpty(this._interceptors)&&this._interceptors.forEach(function(e){e instanceof _coreBaseInterceptors.RequestInterceptor&&n.unshift(e.request.bind(e),e.requestError.bind(e)),e instanceof _coreBaseInterceptors.ResponseInterceptor&&n.push(e.response.bind(e),e.responseError.bind(e))});for(var s=_config.config.Promise.resolve(this);n.length;){var i=n.shift(),u=n.shift();s=s.then(i,u)}return s=s.then(function(r){return t&&r.value&&(r.value=e.proxify(r)),r})}},{key:"url",set:function(e){this._url=_utils.normalizeUrl(e)},get:function(){return _utils.normalizeUrl(this._url)}}]),e}();exports.Request=Request;

},{"../core/baseInterceptors/":45,"./config":49,"./response":53,"./utils":56}],53:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_lodashLangIsObject=require("lodash/lang/isObject"),_lodashLangIsObject2=_interopRequireDefault(_lodashLangIsObject),Response=function(){function e(t,a,n){_classCallCheck(this,e),this.value=t,this.result=a,this.request=n}return _createClass(e,[{key:"hasValue",value:function(){return Array.isArray(this.value)||_lodashLangIsObject2["default"](this.value)}}]),e}();exports.Response=Response;

},{"lodash/lang/isObject":25}],54:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,s,r){return s&&e(t.prototype,s),r&&e(t,r),t}}(),_http=require("./http"),_restResource=require("./restResource"),_lodashObjectAssign=require("lodash/object/assign"),_lodashObjectAssign2=_interopRequireDefault(_lodashObjectAssign),RestClient=function(){function e(t){var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,e),this._baseUrl=t,this._config=s,this._interceptors=s.interceptors||[],this._headers=s.headers||{},this._http=s.http||null,this._cache={}}return _createClass(e,[{key:"addHeader",value:function(e,t){this._headers[e]=t}},{key:"addInterceptor",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];t?this._interceptors.push(e):this._interceptors.unshift(e)}},{key:"instanciateResource",value:function(e,t){return new _restResource.RestResource(this._baseUrl,e,t)}},{key:"resource",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!this._cache[e]){var s=_lodashObjectAssign2["default"]({},this._config);s.http=t.http||null,s.defaultHeaders=_lodashObjectAssign2["default"]({},this._headers,t.defaultHeaders||{}),s.interceptors=(t.interceptors||[]).concat(this._interceptors),s.http||(s.http=this._http),this._cache[e]=this.instanciateResource(e,s)}return this._cache[e]}},{key:"baseUrl",set:function(e){this._baseUrl=e}},{key:"http",set:function(e){this._http=e}}]),e}();exports.RestClient=RestClient;

},{"./http":50,"./restResource":55,"lodash/object/assign":26}],55:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_request=require("./request"),_http=require("./http"),_lodashLangIsObject=require("lodash/lang/isObject"),_lodashLangIsObject2=_interopRequireDefault(_lodashLangIsObject),_uriTemplate=require("uri-template"),RestResource=function(){function e(t,r){var n=this,s=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];_classCallCheck(this,e),this._baseUrl=t+"/",this.resourceName=r,this._config=s,this._config.defaultHeaders=s.defaultHeaders||{},this._config.interceptors=s.interceptors||[],this._config.http=s.http||new _http.Http;var s=this._config[r]||{};_lodashLangIsObject2["default"](s.methods)&&!function(){var e=s.methods;Object.keys(e).forEach(function(t){var r=Array,s=e[t];if(_lodashLangIsObject2["default"](e[t])){var u=e[t];r=u.type,s=u.href}var a=_uriTemplate.parse(s);n[t]=function(e,t){return function(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],s=e.expand(r);return n.constructBaseRequest("get",t,s)}}(a,r)})}()}return _createClass(e,[{key:"constructBaseRequest",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"get":arguments[0],t=arguments.length<=1||void 0===arguments[1]?Array:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"":arguments[2],n=new _request.Request(this._baseUrl,this.resourceName,this,this._config);return n.responseType=t,n.url=this._baseUrl+this.resourceName+r,n.method=e,n}},{key:"findAll",value:function(){return this.constructBaseRequest()}},{key:"findOne",value:function(e){return this.constructBaseRequest("get",Object,"/"+e)}},{key:"save",value:function(e){var t=void 0;return t=e.hasOwnProperty("id")?this.merge(e):this.create(e),t.sendRequest()}},{key:"create",value:function(e){return this.constructBaseRequest("post",Object).send(e)}},{key:"merge",value:function(e){return this.constructBaseRequest("put",Object,"/"+e.id).send(e)}},{key:"_createSubInstance",value:function(t,r,n){return new e(t,r,n)}}]),e}();exports.RestResource=RestResource;

},{"./http":50,"./request":52,"lodash/lang/isObject":25,"uri-template":41}],56:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function isNotEmpty(e){return e&&Array.isArray(e)&&e.length}function normalizeUrl(e){return IS_ABSOLUTE.test(e)?_normalizeUrl2["default"](e):_normalizeUrl2["default"](e).replace("http://","")}function isPromise(e){return e&&"function"==typeof e.all}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNotEmpty=isNotEmpty,exports.normalizeUrl=normalizeUrl,exports.isPromise=isPromise;var _normalizeUrl=require("normalize-url"),_normalizeUrl2=_interopRequireDefault(_normalizeUrl),IS_ABSOLUTE=/^http.*/;

},{"normalize-url":30}]},{},[48])(48)
});